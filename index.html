<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mossphilo International Private Limited</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
        // Customizing Tailwind CSS to include your specific colors and font family
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'olive-green': '#6B8E23', // A classic olive green
                        'light-sky-blue': '#87CEEB', // A soft light sky blue
                        'qatar-maroon': '#8A1538', // A deep, rich Qatar Maroon
                    },
                    fontFamily: {
                        // Setting 'Inter' as the default font
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        /* Importing the Inter font from Google Fonts */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');

        /* Smooth scroll behavior */
        html {
            scroll-behavior: smooth;
        }

        /* CSS for the greeting animation */
        #greeting {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(255, 255, 255, 0.95); /* Slightly less transparent */
            padding: 30px 60px;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25); /* Stronger shadow */
            z-index: 1000; /* Ensure it's on top of everything */
            font-size: 2.5em;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.7s ease-in-out; /* Faster transition */
            text-align: center;
            white-space: nowrap; /* Ensures the text stays on a single line */
            color: #333; /* Default text color for greeting */
        }

        .show-greeting {
            opacity: 1 !important;
        }

        /* New CSS for the entire page load animation */
        @keyframes pageLoadFadeIn {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }

        .animate-page-load {
            animation: pageLoadFadeIn 1s ease-in-out forwards; /* 1s duration, ease-in-out timing, forwards fill-mode */
        }

        /* Custom styles for Lucide icons */
        .lucide {
            width: 24px;
            height: 24px;
            stroke-width: 2;
            stroke: currentColor;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        /* Custom style for navigation buttons */
        .nav-button {
            display: inline-block;
            background-color: white; /* Changed to white background for nav buttons */
            color: #8A1538; /* Qatar Maroon text color */
            padding: 10px 20px;
            border-radius: 9999px; /* Fully rounded */
            font-weight: 600; /* Semi-bold */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Subtle shadow */
            transition: all 0.3s ease-in-out;
            text-align: center;
            white-space: nowrap;
            border: 1px solid #8A1538; /* Add a border to match the "Get in Touch" style */
        }

        .nav-button:hover {
            background-color: #8A1538; /* Qatar Maroon background on hover */
            color: white; /* White text on hover */
            transform: scale(1.05);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        /* Styles for the breadcrumb trail */
        #breadcrumb-container {
            position: fixed;
            top: 50%;
            left: 1rem;
            transform: translateY(-50%);
            background-color: #87CEEB;
            padding: 0.6rem 1.2rem;
            border-radius: 9999px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            z-index: 900;
            display: flex;
            flex-direction: row;
            align-items: center;
            font-size: 1em;
            width: auto;
            max-width: 350px; /* Increased max-width for more space */
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        #breadcrumb-container a,
        #breadcrumb-container .current-page {
            color: #8A1538;
            font-weight: 700;
            text-decoration: none;
            padding: 0;
            transition: color 0.3s ease-in-out;
            position: relative;
            display: flex;
            align-items: center;
        }

        #breadcrumb-container a .lucide {
            margin-right: 0.4rem;
            width: 1em;
            height: 1em;
            stroke: #8A1538;
        }

        #breadcrumb-container a:hover {
            color: #6B8E23;
        }

        #breadcrumb-container .current-page {
            color: white;
        }
        #breadcrumb-container .current-page::after {
            content: none;
        }

        #breadcrumb-container a::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: -3px;
            width: 100%;
            height: 2px;
            background-color: #6B8E23;
            transform: scaleX(0);
            transform-origin: bottom right;
            transition: transform 0.3s ease-out;
        }

        #breadcrumb-container a:hover::after {
            transform: scaleX(1);
            transform-origin: bottom left;
        }

        #breadcrumb-container span.separator {
            margin: 0 0.5rem;
            display: inline-block;
            font-size: 1em;
            opacity: 1;
            color: #8A1538;
        }

        #breadcrumb-container a:first-of-type + span.separator {
            display: inline-block;
        }
        #breadcrumb-container .current-page + span.separator {
            display: none;
        }

        /* Media query for tablets and smaller desktops */
        @media (max-width: 1024px) {
            #breadcrumb-container {
                left: 0.8rem;
                padding: 0.5rem 1rem;
                max-width: 300px; /* Adjusted for tablets */
                font-size: 0.9em;
            }
        }

        /* Media query for typical mobile devices (phones) */
        @media (max-width: 768px) {
            #breadcrumb-container {
                left: 0.5rem;
                padding: 0.4rem 0.8rem;
                max-width: 250px; /* Adjusted for phones */
                font-size: 0.8em;
            }
            #breadcrumb-container a .lucide {
                margin-right: 0.2rem;
                width: 0.9em;
                height: 0.9em;
            }
            #breadcrumb-container span.separator {
                margin: 0 0.3rem;
            }
        }

        /* Media query for very small mobile devices (e.g., iPhone SE, older phones) */
        @media (max-width: 480px) {
            #breadcrumb-container {
                left: 0.3rem;
                padding: 0.3rem 0.6rem;
                max-width: 200px; /* Adjusted for very small phones */
                font-size: 0.7em;
            }
            #breadcrumb-container a .lucide {
                margin-right: 0.15rem;
                width: 0.8em;
                height: 0.8em;
            }
            #breadcrumb-container span.separator {
                margin: 0 0.2rem;
            }
        }
    </style>
</head>
<body class="font-sans bg-gray-50 text-gray-800 antialiased min-h-screen flex flex-col animate-page-load">

    <div id="greeting" class="rounded-xl">
        Welcome to <span class="text-qatar-maroon">Mossphilo</span>&nbsp;<span class="text-olive-green">International</span>!
    </div>

    <header class="bg-white shadow-lg py-4 rounded-b-xl">
        <div class="container mx-auto px-4 flex flex-col md:flex-row justify-between items-center">
            <a href="#home" class="text-3xl font-extrabold text-qatar-maroon mb-2 md:mb-0 rounded-md">
                Mossphilo <span class="text-olive-green">International</span>
            </a>
            <nav class="mt-4 md:mt-0">
                <ul class="flex flex-wrap justify-center md:flex-row gap-2 md:space-x-4">
                    </ul>
            </nav>
        </div>
    </header>

    <div id="breadcrumb-container" class="container mx-auto px-4">
        </div>

    <main class="flex-grow">
        <section id="home" data-title="Home" class="relative bg-light-sky-blue text-white py-20 md:py-32 flex items-center justify-center text-center overflow-hidden rounded-b-xl shadow-inner">
            <div class="absolute inset-0 bg-gradient-to-br from-qatar-maroon to-olive-green opacity-80 z-0"></div>
            <div class="container mx-auto px-4 z-10">
                <h1 class="text-4xl md:text-6xl font-extrabold leading-tight mb-6 drop-shadow-lg">
                    Taste the Future, Sustainably – Mossphilo International
                </h1>
                <p class="text-lg md:text-xl mb-10 max-w-3xl mx-auto opacity-90 drop-shadow-md">
                    Empowering businesses with cutting-edge solutions and unparalleled expertise.
                </p>
                <div class="flex flex-wrap justify-center gap-2 md:gap-4 mt-8">
                    <a href="#home" class="nav-button">Home</a>
                    <a href="#about" class="nav-button">About Us</a>
                    <a href="#products" class="nav-button">Our Products</a>
                    <a href="#export-plans" class="nav-button">Export Plans</a>
                    <a href="#sustainability" class="nav-button">Sustainability</a>
                    <a href="#why-choose-us" class="nav-button">Why Choose Us</a>
                    <a href="#contact" class="inline-block bg-white text-qatar-maroon hover:bg-gray-100 px-8 py-4 rounded-full text-lg font-semibold shadow-xl transition transform hover:scale-105 duration-300 ease-in-out">
                        Contact Us
                    </a>
                    <a href="#blog-news" class="nav-button">Blog/News</a>
                    <a href="#seo-technical" class="nav-button">SEO and Technical Considerations</a>
                    <a href="#additional-features" class="nav-button">Additional Features</a>
                </div>
            </div>
        </section>

        <section id="about" data-title="About Us" class="py-16 md:py-24 bg-white rounded-xl shadow-md mx-4 md:mx-auto my-8 max-w-6xl">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-center text-qatar-maroon mb-12">About Us</h2>
                <div class="flex flex-col md:flex-row items-center justify-center md:space-x-12">
                    <div class="md:w-1/2 mb-8 md:mb-0">
                        <img src="https://placehold.co/600x400/8A1538/FFFFFF?text=Our+Team" alt="Mossphilo International Team" class="rounded-xl shadow-lg w-full h-auto object-cover">
                    </div>
                    <div class="md:w-1/2 text-lg leading-relaxed text-gray-700">
                        <p class="mb-4">
                            At Mossphilo International, we are driven by a passion for innovation and a commitment to excellence. Established with the vision of bridging technological gaps and fostering global connectivity, we specialize in delivering bespoke solutions that empower businesses to thrive in the digital age.
                        </p>
                        <p class="mb-4">
                            Our mission is to provide cutting-edge technology services that are not only efficient and scalable but also sustainable and forward-thinking. We believe in building strong, lasting relationships with our clients, understanding their unique challenges, and crafting solutions that deliver tangible results.
                        </p>
                        <p>
                            With a team of dedicated experts and a client-centric approach, Mossphilo International is your trusted partner for navigating the complexities of the modern technological landscape.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <section id="products" data-title="Our Products" class="py-16 md:py-24 bg-light-sky-blue text-white rounded-xl shadow-md mx-4 md:mx-auto my-8 max-w-6xl">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-center mb-12">Our Products</h2>
                <div class="text-center text-lg">
                    <p>Details about our innovative products will be featured here.</p>
                </div>
            </div>
        </section>

        <section id="export-plans" data-title="Export Plans" class="py-16 md:py-24 bg-white rounded-xl shadow-md mx-4 md:mx-auto my-8 max-w-6xl">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-center text-qatar-maroon mb-12">Export Plans</h2>
                <div class="text-center text-lg text-gray-700">
                    <p>Information regarding our global export strategies and reach will be available soon.</p>
                </div>
            </div>
        </section>

        <section id="sustainability" data-title="Sustainability" class="py-16 md:py-24 bg-light-sky-blue text-white rounded-xl shadow-md mx-4 md:mx-auto my-8 max-w-6xl">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-center mb-12">Sustainability</h2>
                <div class="text-center text-lg mb-8">
                    <p>Our commitment to sustainable practices and environmental responsibility will be highlighted here.</p>
                    <p>Explore new sustainable product ideas with our AI-powered generator!</p>
                </div>

                <div class="bg-white text-gray-800 p-8 rounded-xl shadow-inner">
                    <h3 class="text-2xl font-semibold text-qatar-maroon mb-6 text-center">✨ Sustainable Idea Generator ✨</h3>
                    <div class="flex flex-col sm:flex-row gap-4 mb-6">
                        <input type="text" id="productCategoryInput" placeholder="e.g., 'packaging', 'clothing', 'home goods'"
                               class="flex-grow px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-light-sky-blue focus:border-light-sky-blue transition duration-200">
                        <button id="generateIdeasButton"
                                class="bg-qatar-maroon text-white px-6 py-3 rounded-lg text-lg font-semibold hover:bg-qatar-maroon/90 transition duration-300 ease-in-out shadow-md transform hover:scale-105">
                            Generate Ideas
                        </button>
                    </div>
                    <div id="loadingSpinner" class="hidden text-center text-qatar-maroon font-semibold mb-4">
                        <svg class="animate-spin h-8 w-8 text-qatar-maroon mx-auto mb-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                        Generating sustainable ideas...
                    </div>
                    <div id="sustainableIdeasOutput" class="space-y-6">
                        </div>
                    <div id="errorMessage" class="hidden text-red-600 text-center mt-4"></div>
                </div>
            </div>
        </section>

        <section id="why-choose-us" data-title="Why Choose Us" class="py-16 md:py-24 bg-white rounded-xl shadow-md mx-4 md:mx-auto my-8 max-w-6xl">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-center text-qatar-maroon mb-12">Why Choose Us</h2>
                <div class="text-center text-lg text-gray-700">
                    <p>Discover the unique advantages of partnering with Mossphilo International.</p>
                </div>
            </div>
        </section>

        <section id="services" data-title="Our Services" class="py-16 md:py-24 bg-light-sky-blue text-white rounded-xl shadow-md mx-4 md:mx-auto my-8 max-w-6xl">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-center mb-12">Our Services</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-white text-gray-800 p-8 rounded-xl shadow-lg transform hover:scale-105 transition duration-300 ease-in-out flex flex-col items-center text-center">
                        <i data-lucide="cloud" class="lucide text-qatar-maroon mb-4"></i>
                        <h3 class="text-2xl font-semibold mb-4 text-qatar-maroon">Digital Transformation</h3>
                        <p class="text-gray-600">
                            Guiding your business through the complexities of digital adoption, enhancing efficiency and innovation.
                        </p>
                    </div>
                    <div class="bg-white text-gray-800 p-8 rounded-xl shadow-lg transform hover:scale-105 transition duration-300 ease-in-out flex flex-col items-center text-center">
                        <i data-lucide="server" class="lucide text-olive-green mb-4"></i>
                        <h3 class="text-2xl font-semibold mb-4 text-olive-green">Cloud Solutions</h3>
                        <p class="text-gray-600">
                            Scalable and secure cloud infrastructure and services tailored to your business needs.
                        </p>
                    </div>
                    <div class="bg-white text-gray-800 p-8 rounded-xl shadow-lg transform hover:scale-105 transition duration-300 ease-in-out flex flex-col items-center text-center">
                        <i data-lucide="bar-chart-2" class="lucide text-qatar-maroon mb-4"></i>
                        <h3 class="text-2xl font-semibold mb-4 text-qatar-maroon">Data Analytics</h3>
                        <p class="text-gray-600">
                            Unlocking insights from your data to drive informed decision-making and strategic growth.
                        </p>
                    </div>
                    <div class="bg-white text-gray-800 p-8 rounded-xl shadow-lg transform hover:scale-105 transition duration-300 ease-in-out flex flex-col items-center text-center">
                        <i data-lucide="shield" class="lucide text-olive-green mb-4"></i>
                        <h3 class="text-2xl font-semibold mb-4 text-olive-green">Cybersecurity</h3>
                        <p class="text-gray-600">
                            Protecting your digital assets with robust security measures and proactive threat detection.
                        </p>
                    </div>
                    <div class="bg-white text-gray-800 p-8 rounded-xl shadow-lg transform hover:scale-105 transition duration-300 ease-in-out flex flex-col items-center text-center">
                        <i data-lucide="brain" class="lucide text-qatar-maroon mb-4"></i>
                        <h3 class="text-2xl font-semibold mb-4 text-qatar-maroon">AI & Machine Learning</h3>
                        <p class="text-gray-600">
                            Leveraging artificial intelligence to automate processes and create intelligent solutions.
                        </p>
                    </div>
                    <div class="bg-white text-gray-800 p-8 rounded-xl shadow-lg transform hover:scale-105 transition duration-300 ease-in-out flex flex-col items-center text-center">
                        <i data-lucide="code" class="lucide text-olive-green mb-4"></i>
                        <h3 class="text-2xl font-semibold mb-4 text-olive-green">Custom Software Development</h3>
                        <p class="text-gray-600">
                            Building bespoke software applications tailored precisely to your unique business requirements.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <section id="blog-news" data-title="Blog/News" class="py-16 md:py-24 bg-white rounded-xl shadow-md mx-4 md:mx-auto my-8 max-w-6xl">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-center text-qatar-maroon mb-12">Blog/News</h2>
                <div class="text-center text-lg text-gray-700">
                    <p>Catch up on the latest news, articles, and insights from Mossphilo International.</p>
                </div>
            </div>
        </section>

        <section id="seo-technical" data-title="SEO and Technical Considerations" class="py-16 md:py-24 bg-light-sky-blue text-white rounded-xl shadow-md mx-4 md:mx-auto my-8 max-w-6xl">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-center mb-12">SEO and Technical Considerations</h2>
                <div class="text-center text-lg">
                    <p>Details about our website's optimization and technical aspects for better reach.</p>
                </div>
            </div>
        </section>

        <section id="additional-features" data-title="Additional Features" class="py-16 md:py-24 bg-white rounded-xl shadow-md mx-4 md:mx-auto my-8 max-w-6xl">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-center text-qatar-maroon mb-12">Additional Features</h2>
                <div class="text-center text-lg text-gray-700">
                    <p>Explore other unique features and offerings from Mossphilo International.</p>
                </div>
            </div>
        </section>

        <section id="contact" data-title="Contact Us" class="py-16 md:py-24 bg-white rounded-xl shadow-md mx-4 md:mx-auto my-8 max-w-6xl">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-center text-qatar-maroon mb-12">Contact Us</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                    <div class="flex flex-col space-y-6">
                        <div class="flex items-center space-x-4">
                            <i data-lucide="mail" class="lucide text-qatar-maroon"></i>
                            <div>
                                <h4 class="font-semibold text-xl">Email Us</h4>
                                <p class="text-gray-700">info@mossphilo.com</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4">
                            <i data-lucide="phone" class="lucide text-qatar-maroon"></i>
                            <div>
                                <h4 class="font-semibold text-xl">Call Us</h4>
                                <p class="text-gray-700">+91 123 456 7890</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-4">
                            <i data-lucide="map-pin" class="lucide text-qatar-maroon mt-1"></i>
                            <div>
                                <h4 class="font-semibold text-xl">Visit Us</h4>
                                <p class="text-gray-700">123 Innovation Drive, Tech City, Kerala, India</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-gray-50 p-8 rounded-xl shadow-inner">
                        <form class="space-y-6">
                            <div>
                                <label for="name" class="block text-lg font-medium text-gray-800 mb-2">Name</label>
                                <input type="text" id="name" name="name" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-light-sky-blue focus:border-light-sky-blue transition duration-200" placeholder="Your Name">
                            </div>
                            <div>
                                <label for="email" class="block text-lg font-medium text-gray-800 mb-2">Email</label>
                                <input type="email" id="email" name="email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-light-sky-blue focus:border-light-sky-blue transition duration-200" placeholder="your@example.com">
                            </div>
                            <div>
                                <label for="message" class="block text-lg font-medium text-gray-800 mb-2">Message</label>
                                <textarea id="message" name="message" rows="5" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-light-sky-blue focus:border-light-sky-blue transition duration-200" placeholder="Your message..."></textarea>
                            </div>
                            <button type="submit" class="w-full bg-qatar-maroon text-white px-6 py-3 rounded-lg text-lg font-semibold hover:bg-qatar-maroon/90 transition duration-300 ease-in-out shadow-md transform hover:scale-105">
                                Send Message
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white py-10 rounded-t-xl shadow-lg mt-8">
        <div class="container mx-auto px-4 text-center">
            <p class="text-sm mb-2">&copy; 2025 Mossphilo International Private Limited. All rights reserved.</p>
            <p class="text-sm opacity-80">Taste the Future, Sustainably.</p>
            <div class="flex justify-center space-x-6 mt-6">
                </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Lucide icons
            lucide.createIcons();

            const greetingDiv = document.getElementById('greeting');
            // Show the greeting
            greetingDiv.classList.add('show-greeting');

            // Hide the greeting after 1.5 seconds (faster)
            setTimeout(() => {
                greetingDiv.classList.remove('show-greeting');
                // Optional: Remove greeting from DOM after it fades out completely
                setTimeout(() => {
                    greetingDiv.remove();
                }, 700); // Matches the transition duration
            }, 1500); // Greeting will be visible for 1.5 seconds

            // Gemini API Integration: Sustainable Idea Generator
            const productCategoryInput = document.getElementById('productCategoryInput');
            const generateIdeasButton = document.getElementById('generateIdeasButton');
            const sustainableIdeasOutput = document.getElementById('sustainableIdeasOutput');
            const loadingSpinner = document.getElementById('loadingSpinner');
            const errorMessage = document.getElementById('errorMessage');

            generateIdeasButton.addEventListener('click', async () => {
                const category = productCategoryInput.value.trim();
                if (!category) {
                    errorMessage.textContent = 'Please enter a product category.';
                    errorMessage.classList.remove('hidden');
                    return;
                }

                sustainableIdeasOutput.innerHTML = ''; // Clear previous results
                errorMessage.classList.add('hidden'); // Hide any previous error messages
                loadingSpinner.classList.remove('hidden'); // Show loading spinner

                try {
                    let chatHistory = [];
                    const prompt = `Generate 3 innovative and sustainable product ideas within the category of '${category}'. For each idea, provide a brief description focusing on its sustainability aspects. Format the output as a JSON array of objects, where each object has 'ideaName' (string) and 'sustainabilityDescription' (string) properties.`;
                    chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                    const payload = {
                        contents: chatHistory,
                        generationConfig: {
                            responseMimeType: "application/json",
                            responseSchema: {
                                type: "ARRAY",
                                items: {
                                    type: "OBJECT",
                                    properties: {
                                        "ideaName": { "type": "STRING" },
                                        "sustainabilityDescription": { "type": "STRING" }
                                    },
                                    "propertyOrdering": ["ideaName", "sustainabilityDescription"]
                                }
                            }
                        }
                    };

                    const apiKey = ""; // Leave as-is, Canvas will provide at runtime
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const jsonText = result.candidates[0].content.parts[0].text;
                        const ideas = JSON.parse(jsonText);

                        if (Array.isArray(ideas) && ideas.length > 0) {
                            ideas.forEach(idea => {
                                const ideaCard = document.createElement('div');
                                ideaCard.className = 'bg-gray-100 p-6 rounded-lg shadow-md border border-gray-200';
                                ideaCard.innerHTML = `
                                    <h4 class="text-xl font-bold text-olive-green mb-2">${idea.ideaName}</h4>
                                    <p class="text-gray-700">${idea.sustainabilityDescription}</p>
                                `;
                                sustainableIdeasOutput.appendChild(ideaCard);
                            });
                        } else {
                            sustainableIdeasOutput.innerHTML = '<p class="text-gray-600 text-center">No sustainable ideas generated. Please try a different category.</p>';
                        }
                    } else {
                        errorMessage.textContent = 'Failed to generate ideas. Please try again.';
                        errorMessage.classList.remove('hidden');
                        console.error('Unexpected API response structure:', result);
                    }
                } catch (error) {
                    errorMessage.textContent = 'An error occurred while generating ideas. Please check your input or try again later.';
                    errorMessage.classList.remove('hidden');
                    console.error('Error fetching sustainable ideas:', error);
                } finally {
                    loadingSpinner.classList.add('hidden'); // Hide loading spinner
                }
            });

            // Breadcrumb Logic
            const breadcrumbContainer = document.getElementById('breadcrumb-container');
            const sections = document.querySelectorAll('main section[id]'); // Get all sections with an ID

            // Add data-title attribute to sections if not already present, for consistent breadcrumb titles
            sections.forEach(section => {
                if (!section.dataset.title) {
                    // Try to get title from h2, or default to ID
                    const h2 = section.querySelector('h2');
                    section.dataset.title = h2 ? h2.textContent : section.id.replace(/-/g, ' ').replace(/\b\w/g, char => char.toUpperCase());
                }
            });

            const updateBreadcrumb = (currentSectionId, currentSectionTitle) => {
                let breadcrumbHTML = `<a href="#home"><i data-lucide="home" class="lucide"></i>Home</a>`;

                if (currentSectionId && currentSectionId !== 'home') {
                    breadcrumbHTML += `<span class="separator">&gt;</span><span class="current-page">${currentSectionTitle}</span>`;
                }
                breadcrumbContainer.innerHTML = breadcrumbHTML;
                lucide.createIcons(); 
            };

            const observerOptions = {
                root: null, // viewport as the root
                rootMargin: '0px',
                threshold: 0.5 // Trigger when 50% of the section is visible
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const currentSectionId = entry.target.id;
                        const currentSectionTitle = entry.target.dataset.title;
                        updateBreadcrumb(currentSectionId, currentSectionTitle);
                    }
                });
            }, observerOptions);

            // Observe each section
            sections.forEach(section => {
                observer.observe(section);
            });

            // Initial breadcrumb update on load
            // Check the URL hash to set the initial breadcrumb if a specific section is linked
            const initialHash = window.location.hash;
            if (initialHash) {
                const initialSection = document.querySelector(initialHash);
                if (initialSection) {
                    updateBreadcrumb(initialSection.id, initialSection.dataset.title);
                }
            } else {
                // Default to Home if no hash is present
                updateBreadcrumb('home', 'Home');
            }
        });
    </script>
</body>
</html>
